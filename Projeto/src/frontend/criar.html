<!DOCTYPE html>
<html lang="pt">
<head>
  <meta charset="UTF-8">
  <title>Criar Recurso</title>
</head>
<body>
  <h2>Criar Recurso</h2>

  <input id="titulo" placeholder="Título"><br><br>
  <textarea id="descricao" placeholder="Descrição"></textarea><br><br>

  <button onclick="criar()">Criar</button>

  <p id="msg"></p>

  <script>
    async function criar() {
      const titulo = document.getElementById("titulo").value;
      const descricao = document.getElementById("descricao").value;
      const token = localStorage.getItem("token");

      const res = await fetch("http://localhost:3000/recursos/criar", {
        method: "POST",
        headers: {
          "Content-Type": "application/json",
          "Authorization": "Bearer " + token
        },
        body: JSON.stringify({ titulo, descricao })
      });

      const data = await res.json();

      if (res.ok) {
        document.getElementById("msg").innerText = "Recurso criado!";
      } else {
        document.getElementById("msg").innerText = data.error || "Erro ao criar";
      }
    }
  </script>
</body>
</html>
